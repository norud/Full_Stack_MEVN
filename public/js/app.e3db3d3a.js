(function(t){function e(e){for(var s,r,n=e[0],l=e[1],c=e[2],d=0,v=[];d<n.length;d++)r=n[d],i[r]&&v.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(v.length)v.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,r=1;r<a.length;r++){var l=a[r];0!==i[l]&&(s=!1)}s&&(o.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},o=[];function r(t){return n.p+"js/"+({}[t]||t)+"."+{"chunk-2d216214":"4380cfc7","chunk-4261292e":"84a0025f"}[t]+".js"}function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(t){var e=[],a=i[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise(function(e,s){a=i[t]=[e,s]});e.push(a[2]=s);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.src=r(t),o=function(e){l.onerror=l.onload=null,clearTimeout(c);var a=i[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+s+": "+o+")");r.type=s,r.request=o,a[1](r)}i[t]=void 0}};var c=setTimeout(function(){o({type:"timeout",target:l})},12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(e)},n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0003":function(t,e,a){},"02d6":function(t,e,a){"use strict";var s=a("0003"),i=a.n(s);i.a},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb718","./de-ch.js":"bb718","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=o(t);return a(e)}function o(t){var e=s[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}i.keys=function(){return Object.keys(s)},i.resolve=o,t.exports=i,i.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),i=a("bb71"),o=(a("da64"),a("2e15")),r=a.n(o);s["a"].use(i["a"],{theme:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},options:{customProperties:!0},iconfont:"mdi",lang:{locales:{es:r.a},current:"es"}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[t.isLogin?a("v-navigation-drawer",{attrs:{fixed:"",clipped:t.$vuetify.breakpoint.mdAndUp,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[t.isAdmin||t.isManager||t.isSeller?[a("v-list-tile",{attrs:{to:{name:"home"}}},[a("v-list-tile-action",[a("v-icon",[t._v("home")])],1),a("v-list-tile-title",[t._v("\n            Inicio\n          ")])],1)]:t._e(),t.isAdmin||t.isManager?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Almacén\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"categoria"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Categorías\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"articulo"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Artículos\n              ")])],1)],1)],1)]:t._e(),t.isAdmin||t.isManager?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Compras\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"ingreso"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Ingresos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"proveedor"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Proveedores\n              ")])],1)],1)],1)]:t._e(),t.isAdmin||t.isSeller?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Ventas\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"venta"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Ventas\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"cliente"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Clientes\n              ")])],1)],1)],1)]:t._e(),t.isAdmin?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Accesos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"usuarios"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Usuarios\n              ")])],1)],1)],1)]:t._e(),t.isAdmin||t.isManager||t.isSeller?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Consultas\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:""}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Consulta Compras\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:""}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Consulta Ventas\n              ")])],1)],1)],1)]:t._e()],2)],1):t._e(),a("v-toolbar",{attrs:{color:"blue darken-3",dark:"",app:"","clipped-left":t.$vuetify.breakpoint.mdAndUp,fixed:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("span",{staticClass:"hidden-sm-and-down"},[t._v("Sistema")])],1),a("v-spacer"),t.isLogin?a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.salir()}}},[a("v-icon",[t._v("logout")]),t._v("Salir\n    ")],1):a("v-btn",{attrs:{icon:"",to:{name:"login"}}},[a("v-icon",[t._v("login")]),t._v("Login\n    ")],1)],1),a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)],1),a("v-footer",{attrs:{dark:"",height:"auto"}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{"text-xs-center":""}},[a("v-card",{staticClass:"white--text",attrs:{flat:"",tile:"",color:"primary"}},[a("v-card-text",{staticClass:"white--text pt-0"},[t._v("\n            IncanatoIT ©2019\n          ")])],1)],1)],1)],1)],1)},l=[],c={name:"App",data:function(){return{drawer:!0}},computed:{isLogin:function(){return this.$store.state.user},isAdmin:function(){return this.$store.state.user&&"Admin"==this.$store.state.user.rol},isManager:function(){return this.$store.state.user&&"Manager"==this.$store.state.user.rol},isSeller:function(){return this.$store.state.user&&"Seller"==this.$store.state.user.rol}},created:function(){this.$store.dispatch("autoLogin")},methods:{salir:function(){this.$store.dispatch("salir")}}},d=c,u=a("2877"),v=a("6544"),m=a.n(v),h=a("7496"),p=a("8336"),f=a("b0af"),_=a("99d9"),b=a("a523"),g=a("549c"),x=a("0e8f"),k=a("553a"),y=a("132d"),C=a("a722"),j=a("8860"),M=a("56b0"),A=a("ba95"),V=a("40fe"),T=a("5d23"),w=a("f774"),I=a("0789"),N=a("9910"),D=a("71d9"),E=a("706c"),S=a("2a7f"),P=Object(u["a"])(d,n,l,!1,null,null,null),F=P.exports;m()(P,{VApp:h["a"],VBtn:p["a"],VCard:f["a"],VCardText:_["b"],VContainer:b["a"],VContent:g["a"],VFlex:x["a"],VFooter:k["a"],VIcon:y["a"],VLayout:C["a"],VList:j["a"],VListGroup:M["a"],VListTile:A["a"],VListTileAction:V["a"],VListTileContent:T["a"],VListTileTitle:T["b"],VNavigationDrawer:w["a"],VSlideYTransition:I["d"],VSpacer:N["a"],VToolbar:D["a"],VToolbarSideIcon:E["a"],VToolbarTitle:S["a"]});var O=a("8c4f"),q=a("2f62"),$=a("1232");s["a"].use(q["a"]);var L=new q["a"].Store({state:{token:null,user:null},mutations:{setToken:function(t,e){t.token=e},setUser:function(t,e){t.user=e}},actions:{guardarToken:function(t,e){var a=t.commit;a("setToken",e),a("setUser",Object($["a"])(e)),localStorage.setItem("token",e)},autoLogin:function(t){var e=t.commit,a=localStorage.getItem("token");a&&(e("setToken",a),e("setUser",Object($["a"])(a))),ae.push({name:"home"})},salir:function(t){var e=t.commit;e("setToken",null),e("setUser",null),localStorage.removeItem("token"),ae.push({name:"login"})}}}),U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-m":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("div",{staticClass:"ct-chart"},[a("canvas",{attrs:{id:"myChart"}})])])],1)],1)},z=[],R=a("bc3a"),B=a.n(R),G=a("30ef"),X=a.n(G),H={data:function(){return{valores:[],meses:[],totales:[]}},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.get("sell/reports/last-twelve-months",a).then(function(e){t.valores=e.data,t.graficar()}).catch(function(t){console.log(t)})},graficar:function(){var t=this,e="";t.valores.map(function(a){switch(parseInt(a._id.month)){case 1:e="Enero";break;case 2:e="Febrero";break;case 3:e="Marzo";break;case 4:e="Abril";break;case 5:e="Mayo";break;case 6:e="Junio";break;case 7:e="Julio";break;case 8:e="Agosto";break;case 9:e="Septiembre";break;case 10:e="Octubre";break;case 11:e="Noviembre";break;case 12:e="Diciembre";break;default:e="Error";break}t.meses.push(e+" "+a._id.year)}),t.valores.map(function(e){t.totales.push(e.total)});var a=document.getElementById("myChart");new X.a(a,{type:"bar",data:{labels:t.meses,datasets:[{label:"Ventas de los ultimos 12 meses",data:t.totales,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}}},K=H,J=Object(u["a"])(K,U,z,!1,null,null,null),W=J.exports;m()(J,{VContainer:b["a"],VFlex:x["a"],VLayout:C["a"]});var Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Categorías")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},s),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Description"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),t.valida?a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})}),0):t._e()],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[a("v-card",[2==t.addAction?a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Activar Item")])]):t._e(),1==t.addAction?a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Desactivar Item")])]):t._e(),a("v-card-text",[t._v("\n            vas a "),1==t.addAction?a("span",[t._v(" activar")]):t._e(),2==t.addAction?a("span",[t._v(" desactivar")]):t._e(),t._v(" el articulo\n            "),1==t.addAction?a("span",{staticClass:"green--text"},[t._v("\n              "+t._s(t.addName))]):t._e(),2==t.addAction?a("span",{staticClass:"red--text"},[t._v("\n              "+t._s(t.addName))]):t._e()]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.addModal=0}}},[t._v("Cancelar")]),1==t.addAction?a("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:function(e){return t.activar()}}},[t._v("Activar")]):t._e(),2==t.addAction?a("v-btn",{attrs:{color:"red darken-1 ",flat:""},on:{click:function(e){return t.desactivar()}}},[t._v("Desactivar")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.categorias,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.description))]),a("td",[e.item.status?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n            edit\n          ")]),e.item.status?[a("v-icon",{attrs:{medium:"",color:"red"},on:{click:function(a){return t.estadoCategoria(2,e.item)}}},[t._v("\n              block\n            ")])]:[a("v-icon",{attrs:{medium:"",color:"green"},on:{click:function(a){return t.estadoCategoria(1,e.item)}}},[t._v("\n              check\n            ")])]],2)]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Reset")])]},proxy:!0}])})],1)],1)},Z=[],Y=(a("7f7f"),{data:function(){return{dialog:!1,search:"",categorias:[],headers:[{text:"Categoria",align:"left",sortable:!0,value:"name"},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"estado",sortable:!1},{text:"Acciones",value:"name",sortable:!1}],editedIndex:-1,_id:"",name:"",description:"",valida:0,validaMensaje:[],addModal:0,addAction:0,addName:"",add_id:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Registro":"Editar Registro"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.get("category/list",a).then(function(e){t.categorias=e.data}).catch(function(t){console.log(t)})},limpiar:function(){this._id="",this.name="",this.description="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},valdiar:function(){return this.valida=0,this.validaMensaje=[],(this.name.length<1||this.name.length>50)&&this.validaMensaje.push("El nombre debe de ser entre 1 a 50 caracteres."),this.description.length>255&&this.validaMensaje.push("El descripcion debe de ser menor a 255 caracteres."),this.validaMensaje.length&&(this.valida=1),this.valida},guardar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.valdiar()||(this.editedIndex>-1?B.a.put("category/update",{_id:t._id,name:t.name,description:t.description},a).then(function(e){t.limpiar(),t.close(),t.listar()}).catch(function(t){console.log(t)}):B.a.post("category/add",{name:this.name,description:this.description},a).then(function(e){t.limpiar(),t.close(),t.listar()}).catch(function(t){console.log(t)}))},editItem:function(t){this._id=t._id,this.name=t.name,this.description=t.description,this.dialog=!0,this.editedIndex=1},estadoCategoria:function(t,e){this.addModal=1,this.addName=e.name,this.add_id=e._id,this.addAction=1===t?1:2===t?2:0},activar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("category/activate",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},desactivar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("category/deactivate",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},close:function(){this.dialog=!1},save:function(){this.editedIndex>-1?Object.assign(this.categorias[this.editedIndex],this.editedItem):this.categorias.push(this.editedItem),this.close()}}}),tt=Y,et=a("12b2"),at=a("8fea"),st=a("169a"),it=a("ce7e"),ot=a("2677"),rt=Object(u["a"])(tt,Q,Z,!1,null,null,null),nt=rt.exports;m()(rt,{VBtn:p["a"],VCard:f["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:et["a"],VContainer:b["a"],VDataTable:at["a"],VDialog:st["a"],VDivider:it["a"],VFlex:x["a"],VIcon:y["a"],VLayout:C["a"],VSpacer:N["a"],VTextField:ot["a"],VToolbar:D["a"],VToolbarTitle:S["a"]});var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",x14:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"blue darken-3"}},[a("v-toolbar-title",[t._v("\n          Acceso al sistema\n        ")])],1),a("v-card-text",[a("v-text-field",{attrs:{autofocus:"",color:"accent",label:"Email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{type:"password",color:"accent",label:"Password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t.errorLogin?a("v-flex",{staticClass:"red--text"},[t._v("\n          "+t._s(t.errorLogin)+"\n        ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.ingresar()}}},[t._v("Ingresar")])],1)],1)],1)],1)],1)},ct=[],dt={data:function(){return{email:"",password:"",errorLogin:""}},methods:{ingresar:function(){var t=this;B.a.post("user/login",{email:this.email,password:this.password}).then(function(e){return t.limpiar(),e.data}).then(function(e){t.$store.dispatch("guardarToken",e.user_token),t.$routes.push({name:"home"}),t.limpiar()}).catch(function(e){404==e.response.status?t.errorLogin="El usuario no existe o las credenciales no son las correctas, verificar datos por fas!":t.errorLogin="Error en el servidor, contactar a soporte tecnico!"})},limpiar:function(){this.email="",this.password="",this.errorLogin=""}}},ut=dt,vt=Object(u["a"])(ut,lt,ct,!1,null,null,null),mt=vt.exports;m()(vt,{VBtn:p["a"],VCard:f["a"],VCardActions:_["a"],VCardText:_["b"],VFlex:x["a"],VLayout:C["a"],VTextField:ot["a"],VToolbar:D["a"],VToolbarTitle:S["a"]});var ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("usuarios")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},s),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.roles,label:"Rol"},model:{value:t.rol,callback:function(e){t.rol=e},expression:"rol"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-select",{attrs:{items:t.document_types,label:"Tipo Documento"},model:{value:t.document_type,callback:function(e){t.document_type=e},expression:"document_type"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Número Documento"},model:{value:t.document_number,callback:function(e){t.document_number=e},expression:"document_number"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Telefono"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t.valida?a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})}),0):t._e()],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.titoloModal))])]),a("v-card-text",[a("span",{staticClass:"orange--text"},[t._v(" "+t._s(t.cuerpoModal))])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.addModal=0}}},[t._v("Cancelar")]),1==t.addAction?a("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:function(e){return t.activar()}}},[t._v("Activar")]):t._e(),2==t.addAction?a("v-btn",{attrs:{color:"red darken-1 ",flat:""},on:{click:function(e){return t.desactivar()}}},[t._v("Desactivar")]):t._e(),3==t.addAction?a("v-btn",{attrs:{color:"red darken-1 ",flat:""},on:{click:function(e){return t.eliminar()}}},[t._v("Eliminar")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.usuarios,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.email))]),a("td",[t._v(t._s(e.item.rol))]),a("td",[t._v(t._s(e.item.phone))]),a("td",[t._v(t._s(e.item.document_number))]),a("td",[e.item.status?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n            edit\n          ")]),e.item.status?[a("v-icon",{attrs:{medium:"",color:"red"},on:{click:function(a){return t.estadoCategoria(2,e.item)}}},[t._v("\n              block\n            ")])]:[a("v-icon",{attrs:{medium:"",color:"green"},on:{click:function(a){return t.estadoCategoria(1,e.item)}}},[t._v("\n              check\n            ")])],[a("v-icon",{attrs:{medium:"",color:"red"},on:{click:function(a){return t.estadoCategoria(3,e.item)}}},[t._v("\n              delete\n            ")])]],2)]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Reset")])]},proxy:!0}])})],1)],1)},pt=[],ft={data:function(){return{dialog:!1,search:"",usuarios:[],titoloModal:"",cuerpoModal:"",headers:[{text:"Nombre",align:"left",sortable:!0,value:"name"},{text:"Email",value:"email",sortable:!1},{text:"Rol",value:"rol",sortable:!1},{text:"Telefono",value:"telefono",sortable:!1},{text:"Identificación",value:"identificacion",sortable:!1},{text:"Estado",value:"estado",sortable:!1},{text:"Acciones",value:"name",sortable:!1}],editedIndex:-1,_id:"",name:"",rol:"",roles:["Admin","Manager","Seller"],document_types:["Física","Juridica","DIMEX","NITE","Otra"],document_type:"",document_number:"",email:"",password:"",phone:"",status:"",valida:0,validaMensaje:[],addModal:0,addAction:0,addName:"",add_id:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Registro":"Editar Registro"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.get("user/list",a).then(function(e){t.usuarios=e.data}).catch(function(t){console.log(t)})},limpiar:function(){this._id="",this.rol="",this.name="",this.document_type="",this.document_number="",this.email="",this.password="",this.phone="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},valdiar:function(){return this.valida=0,this.validaMensaje=[],this.rol||this.validaMensaje.push("Debe selecionar un rol para el suario."),(this.name.length<1||this.name.length>50)&&this.validaMensaje.push("El nombre debe de ser entre 1 a 50 caracteres."),this.document_number.length>50&&this.validaMensaje.push("El numero de documento debe de ser menor a 50 caracteres."),this.email.length<0&&this.validaMensaje.push("El email es requerido."),this.editedIndex>-1?this.password&&(this.password.length<0||this.password.length>60)&&this.validaMensaje.push("La Clave es requerida y solo se permite 6 caracteres como máximo."):(this.password.length<0||this.password.length>60)&&this.validaMensaje.push("La Clave es requerida y solo se permite 6 caracteres como máximo."),this.email.length>60&&this.validaMensaje.push("El telefono solo se permite 60 caracteres máximos."),this.validaMensaje.length&&(this.valida=1),this.valida},guardar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.valdiar()||(this.editedIndex>-1?B.a.put("user/update",{_id:t._id,rol:this.rol,name:this.name,document_type:this.document_type,document_number:this.document_number,email:this.email,password:this.password,phone:this.phone},a).then(function(e){t.close(),t.listar()}).catch(function(t){console.log(t)}):B.a.post("user/add",{rol:this.rol,name:this.name,document_type:this.document_type,document_number:this.document_number,email:this.email,password:this.password,phone:this.phone},a).then(function(e){t.close(),t.listar()}).catch(function(t){console.log(t)}))},editItem:function(t){this._id=t._id,this.rol=t.rol,this.name=t.name,this.document_type=t.document_type,this.document_number=t.document_number,this.email=t.email,this.password=t.password,this.phone=t.phone,this.dialog=!0,this.editedIndex=1},estadoCategoria:function(t,e){this.addModal=1,this.addName=e.name,this.add_id=e._id,1===t?(this.addAction=1,this.titoloModal="Activar Usuario",this.cuerpoModal="Va ha activar al usuario "+this.addName):2===t?(this.titoloModal="Desactivar Usuario",this.cuerpoModal="Va ha desactivar al usuario "+this.addName,this.addAction=2):3===t?(this.titoloModal="Eliminar Usuario",this.cuerpoModal="Va a eliminar al usuario "+this.addName,this.addAction=3):(this.titoloModal="Error",this.cuerpoModal="ups algo paso en la acción del usuario "+this.addName,this.addAction=0)},activar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("user/activate",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},desactivar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("user/deactivate",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},eliminar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("user/remove",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},close:function(){this.limpiar(),this.dialog=!1},save:function(){this.editedIndex>-1?Object.assign(this.usuarios[this.editedIndex],this.editedItem):this.usuarios.push(this.editedItem),this.close()}}},_t=ft,bt=a("b56d"),gt=Object(u["a"])(_t,ht,pt,!1,null,null,null),xt=gt.exports;m()(gt,{VBtn:p["a"],VCard:f["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:et["a"],VContainer:b["a"],VDataTable:at["a"],VDialog:st["a"],VDivider:it["a"],VFlex:x["a"],VIcon:y["a"],VLayout:C["a"],VSelect:bt["a"],VSpacer:N["a"],VTextField:ot["a"],VToolbar:D["a"],VToolbarTitle:S["a"]});var kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-btn",[a("v-icon",{on:{click:function(e){return t.crearPDF()}}},[t._v("print")])],1),a("v-toolbar-title",[t._v("Artículos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},s),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Codigo"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{attrs:{items:t.categorias,label:"Categoría"},model:{value:t.categoria,callback:function(e){t.categoria=e},expression:"categoria"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Precio"},model:{value:t.sale_price,callback:function(e){t.sale_price=e},expression:"sale_price"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Stock"},model:{value:t.stock,callback:function(e){t.stock=e},expression:"stock"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Description"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),t.valida?a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})}),0):t._e()],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[a("v-card",[2==t.addAction?a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Activar Item")])]):t._e(),1==t.addAction?a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Desactivar Item")])]):t._e(),a("v-card-text",[t._v("\n            vas a "),1==t.addAction?a("span",[t._v(" activar")]):t._e(),2==t.addAction?a("span",[t._v(" desactivar")]):t._e(),t._v(" el articulo\n            "),1==t.addAction?a("span",{staticClass:"green--text"},[t._v("\n              "+t._s(t.addName))]):t._e(),2==t.addAction?a("span",{staticClass:"red--text"},[t._v("\n              "+t._s(t.addName))]):t._e()]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.addModal=0}}},[t._v("Cancelar")]),1==t.addAction?a("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:function(e){return t.activar()}}},[t._v("Activar")]):t._e(),2==t.addAction?a("v-btn",{attrs:{color:"red darken-1 ",flat:""},on:{click:function(e){return t.desactivar()}}},[t._v("Desactivar")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.articulos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.code))]),a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.category.name))]),a("td",[t._v(t._s(e.item.stock))]),a("td",[t._v(t._s(e.item.sale_price))]),a("td",[t._v(t._s(e.item.description))]),a("td",[e.item.status?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n            edit\n          ")]),e.item.status?[a("v-icon",{attrs:{medium:"",color:"red"},on:{click:function(a){return t.estadoCategoria(2,e.item)}}},[t._v("\n              block\n            ")])]:[a("v-icon",{attrs:{medium:"",color:"green"},on:{click:function(a){return t.estadoCategoria(1,e.item)}}},[t._v("\n              check\n            ")])]],2)]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Reset")])]},proxy:!0}])})],1)],1)},yt=[],Ct=a("8baf"),jt=(a("0da4"),{data:function(){return{dialog:!1,search:"",articulos:[],headers:[{text:"Código",align:"left",sortable:!0,value:"code"},{text:"Nombre",value:"name",sortable:!0},{text:"Categoría",value:"category.name",sortable:!0},{text:"Stock",value:"stock",sortable:!0},{text:"Precio",value:"precio",sortable:!1},{text:"Descripcion",value:"descripcion",sortable:!1},{text:"Estado",value:"estado",sortable:!1},{text:"Acciones",value:"name",sortable:!1}],editedIndex:-1,_id:"",code:"",name:"",categoria:"",categorias:[],stock:0,sale_price:0,description:"",valida:0,validaMensaje:[],addModal:0,addAction:0,addName:"",add_id:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Registro":"Editar Registro"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.selectCategoria()},methods:{crearPDF:function(){var t=[{title:"Nombre",dataKey:"nombre"},{title:"Código",dataKey:"codigo"},{title:"Categoría",dataKey:"categoria"},{title:"Stock",dataKey:"stock"},{title:"Precio Venta",dataKey:"precio_venta"}],e=[];this.articulos.map(function(t){e.push({nombre:t.name,codigo:t.codigo,categoria:t.category.name,stock:t.stock,precio_venta:t.sale_price})});var a=new Ct["default"]("p","pt");a.autoTable(t,e,{margin:{top:60},didDrawPage:function(t){a.text("Lista de Artículos",40,30)}}),a.save("Articulos.pdf")},selectCategoria:function(){var t=this,e=[],a={Token:this.$store.state.token},s={headers:a};B.a.get("category/list",s).then(function(a){e=a.data,e.map(function(e){t.categorias.push({text:e.name,value:e._id})})}).catch(function(t){console.log(t)})},listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.get("item/list",a).then(function(e){t.articulos=e.data}).catch(function(t){console.log(t)})},limpiar:function(){this._id="",this.name="",this.description="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1,this.stock=0,this.sale_price="",this.categoria=0},valdiar:function(){return this.valida=0,this.validaMensaje=[],this.categoria||this.validaMensaje.push("Selecione una categoria."),this.code.length>50&&this.validaMensaje.push("El codigo tiene un maximo de 50 caracteres."),(this.code.length<1||this.name.length>50)&&this.validaMensaje.push("El nombre debe de ser entre 1 a 50 caracteres."),this.description.length>255&&this.validaMensaje.push("El descripcion debe de ser menor a 255 caracteres."),(!this.stock||this.stock<0)&&this.validaMensaje.push("Ingrese un stock valido"),this.sale_price||this.validaMensaje.push("Ingrese un precio valido."),this.validaMensaje.length&&(this.valida=1),this.valida},guardar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.valdiar()||(this.editedIndex>-1?B.a.put("item/update",{_id:t._id,name:t.name,code:t.code,stock:t.stock,category:t.categoria,sale_price:t.sale_price,description:t.description},a).then(function(e){t.limpiar(),t.close(),t.listar()}).catch(function(t){console.log(t)}):B.a.post("item/add",{name:this.name,code:this.code,stock:this.stock,category:this.categoria,sale_price:this.sale_price,description:this.description},a).then(function(e){t.limpiar(),t.close(),t.listar()}).catch(function(t){console.log(t)}))},editItem:function(t){this._id=t._id,this.name=t.name,this.code=t.code,this.stock=t.stock,this.sale_price=t.sale_price,this.categoria=t.category._id,this.description=t.description,this.dialog=!0,this.editedIndex=1},estadoCategoria:function(t,e){this.addModal=1,this.addName=e.name,this.add_id=e._id,this.addAction=1===t?1:2===t?2:0},activar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("item/activate",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},desactivar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("item/deactivate",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},close:function(){this.dialog=!1},save:function(){this.editedIndex>-1?Object.assign(this.categorias[this.editedIndex],this.editedItem):this.categorias.push(this.editedItem),this.close()}}}),Mt=jt,At=Object(u["a"])(Mt,kt,yt,!1,null,null,null),Vt=At.exports;m()(At,{VBtn:p["a"],VCard:f["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:et["a"],VContainer:b["a"],VDataTable:at["a"],VDialog:st["a"],VDivider:it["a"],VFlex:x["a"],VIcon:y["a"],VLayout:C["a"],VSelect:bt["a"],VSpacer:N["a"],VTextField:ot["a"],VToolbar:D["a"],VToolbarTitle:S["a"]});var Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Clientes")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},s),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.document_types,label:"Tipo Documento"},model:{value:t.document_type,callback:function(e){t.document_type=e},expression:"document_type"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número Documento"},model:{value:t.document_number,callback:function(e){t.document_number=e},expression:"document_number"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Telefono"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),t.valida?a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})}),0):t._e()],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.titoloModal))])]),a("v-card-text",[a("span",{staticClass:"orange--text"},[t._v(" "+t._s(t.cuerpoModal))])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.addModal=0}}},[t._v("Cancelar")]),1==t.addAction?a("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:function(e){return t.activar()}}},[t._v("Activar")]):t._e(),2==t.addAction?a("v-btn",{attrs:{color:"red darken-1 ",flat:""},on:{click:function(e){return t.desactivar()}}},[t._v("Desactivar")]):t._e(),3==t.addAction?a("v-btn",{attrs:{color:"red darken-1 ",flat:""},on:{click:function(e){return t.eliminar()}}},[t._v("Eliminar")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.personas,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.person_type))]),a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.document_type))]),a("td",[t._v(t._s(e.item.email))]),a("td",[t._v(t._s(e.item.phone))]),a("td",[t._v(t._s(e.item.status))]),a("td",[e.item.status?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n            edit\n          ")]),e.item.status?[a("v-icon",{attrs:{medium:"",color:"red"},on:{click:function(a){return t.estadoCategoria(2,e.item)}}},[t._v("\n              block\n            ")])]:[a("v-icon",{attrs:{medium:"",color:"green"},on:{click:function(a){return t.estadoCategoria(1,e.item)}}},[t._v("\n              check\n            ")])],[a("v-icon",{attrs:{medium:"",color:"red"},on:{click:function(a){return t.estadoCategoria(3,e.item)}}},[t._v("\n              delete\n            ")])]],2)]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Reset")])]},proxy:!0}])})],1)],1)},wt=[],It={data:function(){return{dialog:!1,search:"",personas:[],titoloModal:"",cuerpoModal:"",headers:[{text:"Tipo de Persona",value:"person_type",sortable:!1},{text:"Nombre",align:"left",sortable:!0,value:"name"},{text:"Tipo Documento",value:"document_type",sortable:!1},{text:"Identificación",value:"document_number",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Telefono",value:"phone",sortable:!1},{text:"Estado",value:"status",sortable:!1},{text:"Acciones",value:"name",sortable:!1}],editedIndex:-1,_id:"",name:"",tipo_perosna:"Customer",document_types:["Física","Juridica","DIMEX","NITE","Otra"],document_type:"",document_number:"",email:"",phone:"",status:"",valida:0,validaMensaje:[],addModal:0,addAction:0,addName:"",add_id:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Registro":"Editar Registro"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.get("person/list/customer",a).then(function(e){t.personas=e.data}).catch(function(t){console.log(t)})},limpiar:function(){this._id="",this.rol="",this.name="",this.document_type="",this.document_number="",this.email="",this.phone="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},valdiar:function(){return this.valida=0,this.validaMensaje=[],(this.name.length<1||this.name.length>50)&&this.validaMensaje.push("El nombre debe de ser entre 1 a 50 caracteres."),this.document_number.length>50&&this.validaMensaje.push("El numero de documento debe de ser menor a 50 caracteres."),this.email.length<0&&this.validaMensaje.push("El email es requerido."),this.validaMensaje.length&&(this.valida=1),this.valida},guardar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.valdiar()||(this.editedIndex>-1?B.a.put("person/update",{_id:t._id,person_type:this.tipo_perosna,name:this.name,document_type:this.document_type,document_number:this.document_number,email:this.email,phone:this.phone},a).then(function(e){t.close(),t.listar()}).catch(function(t){console.log(t)}):B.a.post("person/add",{person_type:this.tipo_perosna,name:this.name,document_type:this.document_type,document_number:this.document_number,email:this.email,phone:this.phone},a).then(function(e){t.close(),t.listar()}).catch(function(t){console.log(t)}))},editItem:function(t){this._id=t._id,this.rol=t.rol,this.name=t.name,this.document_type=t.document_type,this.document_number=t.document_number,this.email=t.email,this.password=t.password,this.phone=t.phone,this.dialog=!0,this.editedIndex=1},estadoCategoria:function(t,e){this.addModal=1,this.addName=e.name,this.add_id=e._id,1===t?(this.addAction=1,this.titoloModal="Activar la persona",this.cuerpoModal="Va ha activar a la persona "+this.addName):2===t?(this.titoloModal="Desactivar la persona",this.cuerpoModal="Va ha desactivar a la persona "+this.addName,this.addAction=2):3===t?(this.titoloModal="Eliminar la persona",this.cuerpoModal="Va a eliminar a la persona "+this.addName,this.addAction=3):(this.titoloModal="Error",this.cuerpoModal="ups algo paso en la acción del la persona "+this.addName,this.addAction=0)},activar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("person/activate",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},desactivar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("person/deactivate",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},eliminar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("user/remove",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},close:function(){this.limpiar(),this.dialog=!1},save:function(){this.editedIndex>-1?Object.assign(this.usuarios[this.editedIndex],this.editedItem):this.usuarios.push(this.editedItem),this.close()}}},Nt=It,Dt=Object(u["a"])(Nt,Tt,wt,!1,null,null,null),Et=Dt.exports;m()(Dt,{VBtn:p["a"],VCard:f["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:et["a"],VContainer:b["a"],VDataTable:at["a"],VDialog:st["a"],VDivider:it["a"],VFlex:x["a"],VIcon:y["a"],VLayout:C["a"],VSelect:bt["a"],VSpacer:N["a"],VTextField:ot["a"],VToolbar:D["a"],VToolbarTitle:S["a"]});var St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Proveedor")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},s),[t._v("Nuevo")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.document_types,label:"Tipo Documento"},model:{value:t.document_type,callback:function(e){t.document_type=e},expression:"document_type"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número Documento"},model:{value:t.document_number,callback:function(e){t.document_number=e},expression:"document_number"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Telefono"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),t.valida?a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})}),0):t._e()],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.titoloModal))])]),a("v-card-text",[a("span",{staticClass:"orange--text"},[t._v(" "+t._s(t.cuerpoModal))])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.addModal=0}}},[t._v("Cancelar")]),1==t.addAction?a("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:function(e){return t.activar()}}},[t._v("Activar")]):t._e(),2==t.addAction?a("v-btn",{attrs:{color:"red darken-1 ",flat:""},on:{click:function(e){return t.desactivar()}}},[t._v("Desactivar")]):t._e(),3==t.addAction?a("v-btn",{attrs:{color:"red darken-1 ",flat:""},on:{click:function(e){return t.eliminar()}}},[t._v("Eliminar")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.personas,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.person_type))]),a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.document_type))]),a("td",[t._v(t._s(e.item.email))]),a("td",[t._v(t._s(e.item.phone))]),a("td",[t._v(t._s(e.item.status))]),a("td",[e.item.status?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n            edit\n          ")]),e.item.status?[a("v-icon",{attrs:{medium:"",color:"red"},on:{click:function(a){return t.estadoCategoria(2,e.item)}}},[t._v("\n              block\n            ")])]:[a("v-icon",{attrs:{medium:"",color:"green"},on:{click:function(a){return t.estadoCategoria(1,e.item)}}},[t._v("\n              check\n            ")])],[a("v-icon",{attrs:{medium:"",color:"red"},on:{click:function(a){return t.estadoCategoria(3,e.item)}}},[t._v("\n              delete\n            ")])]],2)]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Reset")])]},proxy:!0}])})],1)],1)},Pt=[],Ft={data:function(){return{dialog:!1,search:"",personas:[],titoloModal:"",cuerpoModal:"",headers:[{text:"Tipo de Persona",value:"person_type",sortable:!1},{text:"Nombre",align:"left",sortable:!0,value:"name"},{text:"Tipo Documento",value:"document_type",sortable:!1},{text:"Identificación",value:"document_number",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Telefono",value:"phone",sortable:!1},{text:"Estado",value:"status",sortable:!1},{text:"Acciones",value:"name",sortable:!1}],editedIndex:-1,_id:"",name:"",tipo_perosna:"Provider",document_types:["Física","Juridica","DIMEX","NITE","Otra"],document_type:"",document_number:"",email:"",phone:"",status:"",valida:0,validaMensaje:[],addModal:0,addAction:0,addName:"",add_id:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo Registro":"Editar Registro"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.get("person/list/provider",a).then(function(e){t.personas=e.data}).catch(function(t){console.log(t)})},limpiar:function(){this._id="",this.rol="",this.name="",this.document_type="",this.document_number="",this.email="",this.phone="",this.valida=0,this.validaMensaje=[],this.editedIndex=-1},valdiar:function(){return this.valida=0,this.validaMensaje=[],(this.name.length<1||this.name.length>50)&&this.validaMensaje.push("El nombre debe de ser entre 1 a 50 caracteres."),this.document_number.length>50&&this.validaMensaje.push("El numero de documento debe de ser menor a 50 caracteres."),this.email.length<0&&this.validaMensaje.push("El email es requerido."),this.validaMensaje.length&&(this.valida=1),this.valida},guardar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.valdiar()||(this.editedIndex>-1?B.a.put("person/update",{_id:t._id,person_type:this.tipo_perosna,name:this.name,document_type:this.document_type,document_number:this.document_number,email:this.email,phone:this.phone},a).then(function(e){t.close(),t.listar()}).catch(function(t){console.log(t)}):B.a.post("person/add",{person_type:this.tipo_perosna,name:this.name,document_type:this.document_type,document_number:this.document_number,email:this.email,phone:this.phone},a).then(function(e){t.close(),t.listar()}).catch(function(t){console.log(t)}))},editItem:function(t){this._id=t._id,this.rol=t.rol,this.name=t.name,this.document_type=t.document_type,this.document_number=t.document_number,this.email=t.email,this.password=t.password,this.phone=t.phone,this.dialog=!0,this.editedIndex=1},estadoCategoria:function(t,e){this.addModal=1,this.addName=e.name,this.add_id=e._id,1===t?(this.addAction=1,this.titoloModal="Activar la persona",this.cuerpoModal="Va ha activar a la persona "+this.addName):2===t?(this.titoloModal="Desactivar la persona",this.cuerpoModal="Va ha desactivar a la persona "+this.addName,this.addAction=2):3===t?(this.titoloModal="Eliminar la persona",this.cuerpoModal="Va a eliminar a la persona "+this.addName,this.addAction=3):(this.titoloModal="Error",this.cuerpoModal="ups algo paso en la acción del la persona "+this.addName,this.addAction=0)},activar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("person/activate",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},desactivar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("person/deactivate",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},eliminar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("user/remove",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},close:function(){this.limpiar(),this.dialog=!1},save:function(){this.editedIndex>-1?Object.assign(this.usuarios[this.editedIndex],this.editedItem):this.usuarios.push(this.editedItem),this.close()}}},Ot=Ft,qt=Object(u["a"])(Ot,St,Pt,!1,null,null,null),$t=qt.exports;m()(qt,{VBtn:p["a"],VCard:f["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:et["a"],VContainer:b["a"],VDataTable:at["a"],VDialog:st["a"],VDivider:it["a"],VFlex:x["a"],VIcon:y["a"],VLayout:C["a"],VSelect:bt["a"],VSpacer:N["a"],VTextField:ot["a"],VToolbar:D["a"],VToolbarTitle:S["a"]});var Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Ingresos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),t.verNuevo?t._e():a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),t.verNuevo?t._e():a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.mostrarNuevo()}}},[t._v("Nuevo")]),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Selecione un artículo")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.listarArticulos()}},model:{value:t.texto,callback:function(e){t.texto=e},expression:"texto"}}),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraArticulos,items:t.articulos},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.code))]),a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.category.name))]),a("td",[t._v(t._s(e.item.stock))]),a("td",[t._v(t._s(e.item.sale_price))]),a("td",[t._v(t._s(e.item.description))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.agregarDetalles(e.item)}}},[t._v("\n                            add\n                          ")])],1)]}}])})]],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.titoloModal))])]),a("v-card-text",[a("span",{staticClass:"orange--text"},[t._v(" "+t._s(t.cuerpoModal))])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.addModal=0}}},[t._v("Cancelar")]),1==t.addAction?a("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:function(e){return t.activar()}}},[t._v("Activar")]):t._e(),2==t.addAction?a("v-btn",{attrs:{color:"red darken-1 ",flat:""},on:{click:function(e){return t.desactivar()}}},[t._v("Desactivar")]):t._e(),3==t.addAction?a("v-btn",{attrs:{color:"red darken-1 ",flat:""},on:{click:function(e){return t.eliminar()}}},[t._v("Eliminar")]):t._e()],1)],1)],1)],1),t.verNuevo?t._e():a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.ingresos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.user.name))]),a("td",[t._v(t._s(e.item.people.name))]),a("td",[t._v(t._s(e.item.register_type))]),a("td",[t._v(t._s(e.item.register_serie))]),a("td",[t._v(t._s(e.item.register_number))]),a("td",[t._v(t._s(e.item.tax))]),a("td",[t._v(t._s(e.item.total))]),a("td",[e.item.status?a("div",[a("span",{staticClass:"blue--text"},[t._v("Aceptado")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Anulado")])])]),a("td",[t._v(t._s(e.item.createdAt))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.verIngreso(e.item)}}},[t._v("\n            tab\n          ")]),e.item.status?[a("v-icon",{attrs:{medium:"",color:"red"},on:{click:function(a){return t.estadoCategoria(2,e.item)}}},[t._v("\n              block\n            ")])]:[a("v-icon",{attrs:{medium:"",color:"green"},on:{click:function(a){return t.estadoCategoria(1,e.item)}}},[t._v("\n              check\n            ")])]],2)]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Reset")])]},proxy:!0}],null,!1,1992957326)}),t.verNuevo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl14:""}},[a("v-select",{attrs:{items:t.comprobantes,label:"Tipo de Comprobante"},model:{value:t.register_type,callback:function(e){t.register_type=e},expression:"register_type"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl14:""}},[a("v-text-field",{attrs:{label:"Serie Comprobante"},model:{value:t.register_serie,callback:function(e){t.register_serie=e},expression:"register_serie"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl14:""}},[a("v-text-field",{attrs:{label:"Número de Comprobante"},model:{value:t.register_number,callback:function(e){t.register_number=e},expression:"register_number"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl18:""}},[a("v-autocomplete",{attrs:{items:t.personas,label:"Proveedor"},model:{value:t.persona,callback:function(e){t.persona=e},expression:"persona"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl18:""}},[a("v-text-field",{attrs:{type:"number",label:"Impuesto"},model:{value:t.impuesto,callback:function(e){t.impuesto=e},expression:"impuesto"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-text-field",{attrs:{label:"Código"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarCodigo()}},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl12:""}},[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"},on:{click:function(e){return t.mostrarModalArticulos()}}},[a("v-icon",{attrs:{dark:""}},[t._v("list")])],1)],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.errorArticulo,expression:"errorArticulo"}],attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl12:""}},[a("div",{staticClass:"red--text",domProps:{textContent:t._s(t.errorArticulo)}})]),a("v-flex",{attrs:{xs12:"",sm12:"",md2:"",lg12:"",xl12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraDetalles,items:t.detalles},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[[a("v-icon",{attrs:{medium:"",color:"red"},on:{click:function(a){return t.eliminarDetalle(t.detalles,e.item)}}},[t._v("\n                    delete\n                  ")])]],2),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.name))]),a("td",{staticClass:"text-xs-center"},[a("v-text-field",{attrs:{type:"number"},model:{value:e.item.quantity,callback:function(a){t.$set(e.item,"quantity",a)},expression:"props.item.quantity"}})],1),a("td",{staticClass:"text-xs-center"},[a("v-text-field",{attrs:{type:"number"},model:{value:e.item.sale_price,callback:function(a){t.$set(e.item,"sale_price",a)},expression:"props.item.sale_price"}})],1),a("td",{staticClass:"text-xs-center"},[t._v("\n                $"+t._s(e.item.quantity*e.item.sale_price)+"\n              ")])]}},{key:"no-data",fn:function(){return[a("h3",[t._v("No hay articulos agregados al detalle")])]},proxy:!0}],null,!1,1665491805)}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Parcial:")]),t._v(" $"+t._s(t.totalParcial=(t.total-t.totalImpuesto).toFixed(2))+"\n          ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Impuesto:")]),t._v(" $"+t._s(t.totalImpuesto=(t.total*t.impuesto/(1+t.impuesto)).toFixed(2))+"\n          ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Neto:")]),t._v(" $"+t._s(t.total=t.calcularTotal)+"\n          ")])],1),t.valida?a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})}),0):t._e(),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg2:"",xl12:""}},[a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1"},nativeOn:{click:function(e){return t.ocultarNuevo()}}},[t._v("Cancelar")]),t.verDetalle?t._e():a("v-btn",{attrs:{color:"success"},nativeOn:{click:function(e){return t.guardar()}}},[t._v("Guardar")])],1)],1)],1)],1):t._e()],1)],1)},Ut=[],zt={data:function(){return{dialog:!1,search:"",ingresos:[],titoloModal:"",cuerpoModal:"",headers:[{text:"Usuario",align:"left",sortable:!0,value:"user.name"},{text:"Proveedor",value:"people.name",sortable:!0},{text:"Tipo de Comprobante",value:"register_type",sortable:!0},{text:"Serie Comprobante",value:"register_serie",sortable:!0},{text:"Número de Registro",value:"register_number",sortable:!0},{text:"Impuesto",value:"tax",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"status",sortable:!1},{text:"Creado",value:"createdAt",sortable:!1},{text:"Acciones",value:"name",sortable:!1}],_id:"",persona:"",personas:[],register_type:"",comprobantes:["Boleta","Factura","Ticket","Guia"],document_types:["Física","Juridica","DIMEX","NITE","Otra"],register_serie:"",register_number:"",impuesto:.13,status:"",codigo:"",cabeceraDetalles:[{text:"Borrar",value:"borrar",sortable:!1},{text:"Artículo",value:"articulo",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Sub Total",value:"subtotal",sortable:!1}],detalles:[],verNuevo:0,errorArticulo:null,total:0,totalParcial:0,totalImpuesto:0,articulos:[],texto:"",cabeceraArticulos:[{text:"Código",align:"left",sortable:!0,value:"code"},{text:"Nombre",value:"name",sortable:!0},{text:"Categoría",value:"category.name",sortable:!0},{text:"Stock",value:"stock",sortable:!0},{text:"Precio",value:"precio",sortable:!1},{text:"Descripcion",value:"descripcion",sortable:!1},{text:"Selecionar",value:"name",sortable:!1}],verDetalle:0,valida:0,validaMensaje:[],addModal:0,addAction:0,addName:"",add_id:""}},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.detalles.length;e++)t+=this.detalles[e].quantity*this.detalles[e].sale_price;return t}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.selectPerson()},methods:{selectPerson:function(){var t=this,e=[],a={Token:this.$store.state.token},s={headers:a};B.a.get("person/list/provider",s).then(function(a){e=a.data,e.map(function(e){t.personas.push({text:e.name,value:e._id})})}).catch(function(t){console.log(t)})},buscarCodigo:function(){var t=this;t.errorArticulo=null;var e={Token:this.$store.state.token},a={headers:e};B.a.get("item/query/code?code="+t.codigo,a).then(function(e){t.agregarDetalles(e.data)}).catch(function(e){t.errorArticulo="No existe el articulo"})},agregarDetalles:function(t){this.errorArticulo=null,this.encuentra(t._id)?this.errorArticulo="El artículo ha sido agregado":(this.detalles.push({_id:t._id,name:t.name,quantity:1,sale_price:t.sale_price}),this.codigo="")},encuentra:function(t){for(var e=0,a=0;a<this.detalles.length;a++)this.detalles[a]._id==t&&(e=!0);return e},eliminarDetalle:function(t,e){var a=t.indexOf(e);-1!=a&&t.splice(a,1)},listarArticulos:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.get("item/list?condition="+this.texto,a).then(function(e){t.articulos=e.data}).catch(function(t){console.log(t)})},listarDetalles:function(t){var e=this,a={Token:this.$store.state.token},s={headers:a};B.a.get("register/query?_id="+t,s).then(function(t){e.detalles=t.data.detail}).catch(function(t){console.log(t)})},verIngreso:function(t){this.limpiar(),this.register_type=t.register_type,this.register_serie=t.register_serie,this.register_number=t.register_number,this.persona=t.people._id,this.impuesto=t.tax,this.listarDetalles(t._id),this.verNuevo=1,this.verDetalle=1},mostrarModalArticulos:function(){this.dialog=1},listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.get("register/list",a).then(function(e){t.ingresos=e.data}).catch(function(t){console.log(t)})},limpiar:function(){this._id="",this.persona="",this.register_type="",this.register_serie="",this.register_number="",this.document_number="",this.tax=.13,this.total=0,this.detail=[],this.verNuevo=0,this.valida=0,this.validaMensaje=[],this.verDetalle=0},valdiar:function(){return this.valida=0,this.validaMensaje=[],this.persona||this.validaMensaje.push("Debe selecionar un proveedor."),this.register_type||this.validaMensaje.push("Debe selecionar un tipo de registro."),this.register_serie||this.validaMensaje.push("Debe selecionar un tipo de registro."),this.register_number||this.validaMensaje.push("Debe selecionar un tipo de registro."),this.impuesto<0&&(console.log(this.impuesto),this.validaMensaje.push("El impuesto debe ser valido.")),this.detalles.length<=0&&this.validaMensaje.push("Ingrese al meno un artículo al detalle."),this.validaMensaje.length&&(this.valida=1),this.valida},mostrarNuevo:function(){this.verNuevo=1},ocultarNuevo:function(){this.verNuevo=0,this.limpiar()},guardar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.valdiar()||B.a.post("register/add",{user:this.$store.state.user._id,people:this.persona,register_type:this.register_type,register_serie:this.register_serie,document_number:this.document_number,register_number:this.register_number,tax:this.impuesto,total:this.total,detail:this.detalles},a).then(function(e){t.close(),t.listar()}).catch(function(t){console.log(t)})},estadoCategoria:function(t,e){this.addModal=1,this.addName=e.register_number,this.add_id=e._id,1===t?(this.addAction=1,this.titoloModal="Activar Usuario",this.cuerpoModal="Va ha activar al usuario "+this.addName):2===t?(this.titoloModal="Desactivar Usuario",this.cuerpoModal="Va ha desactivar al usuario "+this.addName,this.addAction=2):3===t?(this.titoloModal="Eliminar Usuario",this.cuerpoModal="Va a eliminar al usuario "+this.addName,this.addAction=3):(this.titoloModal="Error",this.cuerpoModal="ups algo paso en la acción del usuario "+this.addName,this.addAction=0)},activar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("register/activate",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},desactivar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("register/deactivate",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},eliminar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("user/remove",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},close:function(){this.limpiar(),this.dialog=!1},save:function(){this.editedIndex>-1?Object.assign(this.usuarios[this.editedIndex],this.editedItem):this.usuarios.push(this.editedItem),this.close()}}},Rt=zt,Bt=a("c6a6"),Gt=Object(u["a"])(Rt,Lt,Ut,!1,null,null,null),Xt=Gt.exports;m()(Gt,{VAutocomplete:Bt["a"],VBtn:p["a"],VCard:f["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:et["a"],VContainer:b["a"],VDataTable:at["a"],VDialog:st["a"],VDivider:it["a"],VFlex:x["a"],VIcon:y["a"],VLayout:C["a"],VSelect:bt["a"],VSpacer:N["a"],VTextField:ot["a"],VToolbar:D["a"],VToolbarTitle:S["a"]});var Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Ventas")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),t.verNuevo?t._e():a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),t.verNuevo?t._e():a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.mostrarNuevo()}}},[t._v("Nuevo")]),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Selecione un artículo")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl12:""}},[a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.listarArticulos()}},model:{value:t.texto,callback:function(e){t.texto=e},expression:"texto"}}),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraArticulos,items:t.articulos},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.code))]),a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.category.name))]),a("td",[t._v(t._s(e.item.stock))]),a("td",[t._v(t._s(e.item.sale_price))]),a("td",[t._v(t._s(e.item.description))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.agregarDetalles(e.item)}}},[t._v("\n                            add\n                          ")])],1)]}}])})]],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.titoloModal))])]),a("v-card-text",[a("span",{staticClass:"orange--text"},[t._v(" "+t._s(t.cuerpoModal))])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.addModal=0}}},[t._v("Cancelar")]),1==t.addAction?a("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:function(e){return t.activar()}}},[t._v("Activar")]):t._e(),2==t.addAction?a("v-btn",{attrs:{color:"red darken-1 ",flat:""},on:{click:function(e){return t.desactivar()}}},[t._v("Desactivar")]):t._e(),3==t.addAction?a("v-btn",{attrs:{color:"red darken-1 ",flat:""},on:{click:function(e){return t.eliminar()}}},[t._v("Eliminar")]):t._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1000px"},model:{value:t.comprobanteModal,callback:function(e){t.comprobanteModal=e},expression:"comprobanteModal"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[a("v-btn",{on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("print")])],1),t._v("Reporte de venta\n          ")],1),a("v-card-text",[a("div",{attrs:{id:"factura"}},[a("header",[a("div",{attrs:{id:"logo"}},[a("img",{attrs:{id:"imagen",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAilBMVEX////tHCTsAAD84OHtEBrxY2bsCBXtDhntFh/sABDtEx34tLbsAAv70tP0iYzze37+8/P829z3rK795eb5vsD96+zwVFj5x8jzd3rzgIP5wsTwUVX70dL1k5bvPUPwWFzxZWnwSE3uLTT1mZvzhIbvOj/uLTP4sbPvQkfyb3P+9vbuNDr2oKL0j5G/lkIGAAAHyElEQVR4nO2dbXuiOhCGYYq8+1q1aqtotbW22///9xatPUeSwAxICOw196fdvRbJA8nMZDIJlsUwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMOU5rE/newHh+FisTzsJ9OXx0/TLaqPh+i7Z0NKHLg/BPH5r35yOI47r7P/J/EBXMe3FYRuDO7z+sV0I+9hDoGj0nYrMwDoHWemW1qVHqbvByeGJDLd1moQFZ5FAgzHpptbAbrCFBd2U9MNLk0phemYhNej6SaXpKRC2/bhvVvvsbTCs8aP9rqPz61oKyooPPfV08hI+1EiFx6Ef6qkMLU5wcSIgmJGCdh1KbRteG5dDLCKPbtGhal/bJnFWcLlydenMP2xhRElaka72K5doR28taanjt2rkHoV2mHcEr8xhd+5Uc0KU9/YihDnD/zXoroVpr+4NqIpwwBu2lO7QhuWRlTdsITb5tSv0LhJzQjUotCwxAFkG6NDodGO+geEtmhRaNDcTEFsih6Ftimn0RcFalNogxHXP3KlJKg2hX5sIoD7kFuvTaEdvjUvcBnL7dCn0A4a9xkraRDqVWg3PV8cKd6gXoU2NDsUE69xhc5zkwIjVR/VrNCGBtNTn25OG7QqtIPmkoyLKgp972dh9LJU6ikXFBHcU1MCx+o+WqDQdwHeT+voqT9+GPefovXpFUCOGDCg35DCXVhOoQf+ciVawtlq6UNOX8gj3DUjUOkK8xUGcMqLKl8WcVBKYkNO8Su3d8kKvQD2RfZhtIcyGv1XncJ+yfEUSoUJfKO/twalb825QxOL4fmvUFb4/Uj4wVkv/5lJL/FLh6Qs+aNQoZBIBHm2S77Fql45Cp4LGlNVoTXbUEdjqD12y/WFdym0rC21p4Luio1lkQu7Q6F1IEp0h/WJUVLYjnsUWt9EiVCbFiVSeq0+hWLyNfcmeh1GUjhZuE+htSWZGyepSYuSUfFjvlOhtSE5Da2T/YJ4hqBwPFkmu80uWU5y7OFMmRuR7qKzm26LZ7RFCtMoG2LX8X3fcdM/LZTRePEwv+L0dMmzEEtapHC1EWZKLmxU0UmPEqNqtKZyHp+mcPYMcjDrq2pmZpSXqDHHv0eMXY7CI6g7t6NYcVkT7Gmw16Zwjtg6tcICPwcD6X8TXmI416YQy5wpFS4KI1kpWb8n2FNPl8AH7PmqFCKRivQW1dl04SJd0XeE3VyhEPGgCu+Wl6q8IdblEQfYvWWFBNsohigv+CWuPHzroTgoVSqc40lvR7QbNppHDXWFpuitJYVPJPf2lL2ocAp6wbf1CPxEmysp/KCE0uFH9qKiTNDvjfRsl3osrRCLgX4vyybrKWOXksMrD95eUeGQlrUXExOv6EDUtICBB/6iQmoCLchedkLDb03Z/QnqiwWFhXm5zHVZD47HprGexVIs7pYU4o9E3WA0stAVe6MOX1R4oC6euYfMdbiP0eTy8QYLCslr3MKsHTdpwiOpC9wyCuMpdyVVRFj5xMevprQwHhIL73BDXcb2N5nr0DmM7eqpkPr33yFhHGYdcefGIcGWZmPoztlS3B8KM9PO+UO8wUG2ILtzMQ0el3pC0VLX4lLcAPjv2Su6NrfA54dizqVr80N8ji9VSnRsjk9IEbnC9paO5WmsBH0jvi9egq8leWKuzTeXa8NdvrQs1LF8Ke6J5ZC4WzlvigePxUpEpIhEKu0zum5hESyjHE8NC9eepEkCHhumkbougej64aXN0lUFb1FRnGl2/ZDyfAN5s2CUuwYsjyfDa8AEM6csd5nNFeWVIczbt45P6UK2p3JWTx9SLcbHk+L/Efyn3so2pJ7m2gClLe8Pg3M9TeiH53qaYKiMnVHfckZrPQ2pBbllWePJobfb7HqH3Joo2s/rrIlC6tquVN4O+Uara9O6OQhdBr4QbCv9eBtqE4nd1IYquTBilbDuDQnUQt7ysTGxgFZ3jTBh8nZtR9m3SK7z1n3CAj1/ti31u+2p1S/cb5GhzCFIs7f27LegZFF+G0O2Ce3aM1O070lqTkJ5jbOkXfueqA7jgkfYu/bdur1rhITtDQGsO7f/kFZufqsxfw/pqZS+5g5WIK98XvHAGU6lfcDToVOmf55pah8wNVl/y3kv93Z9vO7lPq6371B2m7Pd4F5u61S+cekYcm7246sP+EZobj++NSo3euqiwTMVrGP5fno/zZ4WNS9pI2pAWt/QC20PVq00fVRUSad4P82fSTts9i3GBs4W3NR69gyCs8EbVDuzoIpPq4YfGDlwt0JoUxUzZ+6Vm0fdJ9DYxy/2zUgEfWtNKNQM4H0C9RQiEilc4K1JoO5jIkxLNC1Qe0c120V/0GpuTBqZ/4kUW9HroSVnsqeuH/1sVTWcoCXn6p8PQdIRhseb1nwbwdJiUk0fxi4yjeud9Xtxy75RcqmZqVGgqtbGPMegSpJRhRu0xIaKjE70VbIC2vu9p5T+7m7f6MOuscx2Jaavd2n04bV1FkYi+qrcV0P46saHHlfPFVZdzqs3zw0sYdfEeAk5NaV5dPAbllFCF5nK6+R3SGdRDyDAxuTlW7JRG/07jZf93IHYDVX21T9/D9ibd/t7wBfG0SBRf9N5EHVs6BXx+fNd7uVwOFwO/rXvcjMMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzTGXxaidiHpPPEhAAAAAElFTkSuQmCC"}})]),a("div",{attrs:{id:"datos"}},[a("p",{attrs:{id:"encabezado"}},[a("b",[t._v("IncanatoIT")]),a("br"),t._v("José Gálvez 1368, Chongoyape -\n                    Chiclayo, Perú"),a("br"),t._v("Telefono:(+51)931742904"),a("br"),t._v("Email:jcarlos.ad7@gmail.com\n                  ")])]),a("div",{attrs:{id:"fact"}},[a("p",[t._v("\n                    "+t._s(t.register_type)),a("br"),t._v("\n                    "+t._s(t.register_serie)+"--"+t._s(t.register_number)),a("br"),t._v("\n                    "+t._s(t.fecha)+"\n                  ")])])]),a("br"),a("section",[a("div",[a("table",{attrs:{id:"facliente"}},[a("tbody",[a("tr",[a("td",{attrs:{id:"cliente"}},[a("strong",[t._v("Sr(a). "+t._s(t.persona.name))]),a("br"),a("strong",[t._v("Documento:")]),t._v("\n                          "+t._s(t.persona.document_number)),a("br"),a("strong",[t._v("Dirección:")]),t._v(" Zarumilla 113 -\n                          Chiclayo"),a("br"),a("strong",[t._v("Teléfono:")]),t._v(" "+t._s(t.persona.phone)),a("br"),a("strong",[t._v("Email:")]),t._v(" "+t._s(t.persona.email)+"\n                        ")])])])])])]),a("br"),a("section",[a("div",[a("table",{attrs:{id:"facarticulo"}},[a("thead",[a("tr",{attrs:{id:"fa"}},[a("th",[t._v("CANT")]),a("th",[t._v("DESCRIPCION")]),a("th",[t._v("PRECIO UNIT")]),a("th",[t._v("DESC.")]),a("th",[t._v("PRECIO TOTAL")])])]),a("tbody",t._l(t.detalles,function(e){return a("tr",{key:e._id},[a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.quantity))]),a("td",[t._v(t._s(e.name))]),a("td",{staticStyle:{"text-align":"right"}},[t._v("\n                          "+t._s(e.sale_price)+"\n                        ")]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(e.discount))]),a("td",{staticStyle:{"text-align":"right"}},[t._v("\n                          "+t._s(e.quantity*e.sale_price-e.discount)+"\n                        ")])])}),0),a("tfoot",[a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[t._v("SUBTOTAL")]),a("th",{staticStyle:{"text-align":"right"}},[t._v("\n                          $"+t._s(t.totalParcial=(t.total-t.totalImpuesto).toFixed(2))+"\n                        ")])]),a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[t._v("\n                          IVA("+t._s(t.impuesto)+"%)\n                        ")]),a("th",{staticStyle:{"text-align":"right"}},[t._v("\n                          $"+t._s(t.totalImpuesto=(t.total*t.impuesto/(1+t.impuesto)).toFixed(2))+"\n                        ")])]),a("tr",[a("th"),a("th"),a("th"),a("th",{staticStyle:{"text-align":"right"}},[t._v("TOTAL")]),a("th",{staticStyle:{"text-align":"right"}},[t._v("\n                          $ "+t._s(t.total=t.calcularTotal)+"\n                        ")])])])])])]),a("br"),a("br"),a("footer",[a("div",{attrs:{id:"gracias"}},[a("p",[a("b",[t._v("Gracias por su compra!")])])])])])]),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){return t.ocultarComprobante()}}},[t._v("Cancelar")])],1)],1)],1)],1),t.verNuevo?t._e():a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.ventas,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.user.name))]),a("td",[t._v(t._s(e.item.people.name))]),a("td",[t._v(t._s(e.item.register_type))]),a("td",[t._v(t._s(e.item.register_serie))]),a("td",[t._v(t._s(e.item.register_number))]),a("td",[t._v(t._s(e.item.tax))]),a("td",[t._v(t._s(e.item.total))]),a("td",[e.item.status?a("div",[a("span",{staticClass:"blue--text"},[t._v("Aceptado")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Anulada")])])]),a("td",[t._v(t._s(e.item.createdAt))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.verIngreso(e.item)}}},[t._v("\n            tab\n          ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.mostrarComprobante(e.item)}}},[t._v("\n            print\n          ")]),e.item.status?[a("v-icon",{attrs:{medium:"",color:"red"},on:{click:function(a){return t.estadoCategoria(2,e.item)}}},[t._v("\n              block\n            ")])]:[a("v-icon",{attrs:{medium:"",color:"green"},on:{click:function(a){return t.estadoCategoria(1,e.item)}}},[t._v("\n              check\n            ")])]],2)]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.listar()}}},[t._v("Reset")])]},proxy:!0}],null,!1,2160540675)}),t.verNuevo?a("v-container",{staticClass:"pa-4 white",attrs:{"grid-list-sm":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl14:""}},[a("v-select",{attrs:{items:t.comprobantes,label:"Tipo de Comprobante"},model:{value:t.register_type,callback:function(e){t.register_type=e},expression:"register_type"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl14:""}},[a("v-text-field",{attrs:{label:"Serie Comprobante"},model:{value:t.register_serie,callback:function(e){t.register_serie=e},expression:"register_serie"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl14:""}},[a("v-text-field",{attrs:{label:"Número de Comprobante"},model:{value:t.register_number,callback:function(e){t.register_number=e},expression:"register_number"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl18:""}},[a("v-autocomplete",{attrs:{items:t.personas,label:"Cliente"},model:{value:t.persona,callback:function(e){t.persona=e},expression:"persona"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:"",lg4:"",xl18:""}},[a("v-text-field",{attrs:{type:"number",label:"Impuesto"},model:{value:t.impuesto,callback:function(e){t.impuesto=e},expression:"impuesto"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:"",lg8:"",xl8:""}},[a("v-text-field",{attrs:{label:"Código"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.buscarCodigo()}},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl12:""}},[a("v-btn",{attrs:{small:"",fab:"",dark:"",color:"teal"},on:{click:function(e){return t.mostrarModalArticulos()}}},[a("v-icon",{attrs:{dark:""}},[t._v("list")])],1)],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.errorArticulo,expression:"errorArticulo"}],attrs:{xs12:"",sm2:"",md2:"",lg2:"",xl12:""}},[a("div",{staticClass:"red--text",domProps:{textContent:t._s(t.errorArticulo)}})]),a("v-flex",{attrs:{xs12:"",sm12:"",md2:"",lg12:"",xl12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.cabeceraDetalles,items:t.detalles},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[[a("v-icon",{attrs:{medium:"",color:"red"},on:{click:function(a){return t.eliminarDetalle(t.detalles,e.item)}}},[t._v("\n                    delete\n                  ")])]],2),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.name))]),a("td",{staticClass:"text-xs-center"},[a("v-text-field",{attrs:{type:"number"},model:{value:e.item.quantity,callback:function(a){t.$set(e.item,"quantity",a)},expression:"props.item.quantity"}})],1),a("td",{staticClass:"text-xs-center"},[a("v-text-field",{attrs:{type:"number"},model:{value:e.item.sale_price,callback:function(a){t.$set(e.item,"sale_price",a)},expression:"props.item.sale_price"}})],1),a("td",{staticClass:"text-xs-center"},[a("v-text-field",{attrs:{type:"number"},model:{value:e.item.discount,callback:function(a){t.$set(e.item,"discount",a)},expression:"props.item.discount"}})],1),a("td",{staticClass:"text-xs-center"},[t._v("\n                $"+t._s(e.item.quantity*e.item.sale_price-e.item.discount)+"\n              ")])]}},{key:"no-data",fn:function(){return[a("h3",[t._v("No hay articulos agregados al detalle")])]},proxy:!0}],null,!1,1189824940)}),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Parcial:")]),t._v(" $"+t._s(t.totalParcial=(t.total-t.totalImpuesto).toFixed(2))+"\n          ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Impuesto:")]),t._v(" $"+t._s(t.totalImpuesto=(t.total*t.impuesto/(1+t.impuesto)).toFixed(2))+"\n          ")]),a("v-flex",{staticClass:"text-xs-right"},[a("strong",[t._v("Total Neto:")]),t._v(" $"+t._s(t.total=t.calcularTotal)+"\n          ")])],1),t.valida?a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})}),0):t._e(),a("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg2:"",xl12:""}},[a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1"},nativeOn:{click:function(e){return t.ocultarNuevo()}}},[t._v("Cancelar")]),t.verDetalle?t._e():a("v-btn",{attrs:{color:"success"},nativeOn:{click:function(e){return t.guardar()}}},[t._v("Guardar")])],1)],1)],1)],1):t._e()],1)],1)},Kt=[],Jt=a("c0e9"),Wt=a.n(Jt),Qt={data:function(){return{dialog:!1,search:"",ventas:[],titoloModal:"",cuerpoModal:"",headers:[{text:"Usuario",align:"left",sortable:!0,value:"user.name"},{text:"Cliente",value:"people.name",sortable:!0},{text:"Tipo de Comprobante",value:"register_type",sortable:!0},{text:"Serie Comprobante",value:"register_serie",sortable:!0},{text:"Número de Registro",value:"register_number",sortable:!0},{text:"Impuesto",value:"tax",sortable:!1},{text:"Total",value:"total",sortable:!1},{text:"Estado",value:"status",sortable:!1},{text:"Creado",value:"createdAt",sortable:!1},{text:"Acciones",value:"name",sortable:!1}],_id:"",persona:"",personas:[],register_type:"",comprobantes:["Boleta","Factura","Ticket","Guia"],document_types:["Física","Juridica","DIMEX","NITE","Otra"],register_serie:"",register_number:"",impuesto:.13,status:"",codigo:"",cabeceraDetalles:[{text:"Borrar",value:"borrar",sortable:!1},{text:"Artículo",value:"articulo",sortable:!1},{text:"Cantidad",value:"cantidad",sortable:!1},{text:"Precio",value:"precio",sortable:!1},{text:"Descuento",value:"descuento",sortable:!1},{text:"Sub Total",value:"subtotal",sortable:!1}],detalles:[],verNuevo:0,errorArticulo:null,total:0,totalParcial:0,totalImpuesto:0,articulos:[],texto:"",cabeceraArticulos:[{text:"Código",align:"left",sortable:!0,value:"code"},{text:"Nombre",value:"name",sortable:!0},{text:"Categoría",value:"category.name",sortable:!0},{text:"Stock",value:"stock",sortable:!0},{text:"Precio",value:"precio",sortable:!1},{text:"Descripcion",value:"descripcion",sortable:!1},{text:"Selecionar",value:"name",sortable:!1}],verDetalle:0,valida:0,validaMensaje:[],addModal:0,addAction:0,addName:"",add_id:"",comprobanteModal:0,fecha:""}},computed:{calcularTotal:function(){for(var t=0,e=0;e<this.detalles.length;e++)t+=this.detalles[e].quantity*this.detalles[e].sale_price-this.detalles[e].discount;return t}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.selectPerson()},methods:{crearPDF:function(){var t=document.getElementById("factura");Wt()(t).then(function(t){var e=t.toDataURL("image/png"),a=210,s=295,i=t.height*a/t.width,o=i,r=new Ct["default"]("p","mm","a4"),n=0;r.addImage(e,"PNG",0,n,a,i),o-=s;while(o>=0)n=o-i,r.addPage(),r.addImage(e,"PNG",0,n,a,i),o-=s;r.save("ComprobanteVenta.pdf")})},mostrarComprobante:function(t){this.limpiar(),this.register_type=t.register_type,this.register_serie=t.register_serie,this.register_number=t.register_number,this.fecha=t.createdAt,this.persona=t.people,this.impuesto=t.tax,this.listarDetalles(t._id),this.comprobanteModal=1},ocultarComprobante:function(){this.comprobanteModal=0},selectPerson:function(){var t=this,e=[],a={Token:this.$store.state.token},s={headers:a};B.a.get("person/list/customer",s).then(function(a){e=a.data,e.map(function(e){t.personas.push({text:e.name,value:e._id})})}).catch(function(t){console.log(t)})},buscarCodigo:function(){var t=this;t.errorArticulo=null;var e={Token:this.$store.state.token},a={headers:e};B.a.get("item/query/code?code="+t.codigo,a).then(function(e){t.agregarDetalles(e.data)}).catch(function(e){t.errorArticulo="No existe el articulo"})},agregarDetalles:function(t){this.errorArticulo=null,this.encuentra(t._id)?this.errorArticulo="El artículo ha sido agregado":(this.detalles.push({_id:t._id,name:t.name,quantity:1,sale_price:t.sale_price,discount:0}),this.codigo="")},encuentra:function(t){for(var e=0,a=0;a<this.detalles.length;a++)this.detalles[a]._id==t&&(e=!0);return e},eliminarDetalle:function(t,e){var a=t.indexOf(e);-1!=a&&t.splice(a,1)},listarArticulos:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.get("item/list?condition="+this.texto,a).then(function(e){t.articulos=e.data}).catch(function(t){console.log(t)})},listarDetalles:function(t){var e=this,a={Token:this.$store.state.token},s={headers:a};B.a.get("sell/query?_id="+t,s).then(function(t){e.detalles=t.data.detail}).catch(function(t){console.log(t)})},verIngreso:function(t){this.limpiar(),this.register_type=t.register_type,this.register_serie=t.register_serie,this.register_number=t.register_number,this.persona=t.people._id,this.impuesto=t.tax,this.listarDetalles(t._id),this.verNuevo=1,this.verDetalle=1},mostrarModalArticulos:function(){this.dialog=1},listar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.get("sell/list",a).then(function(e){t.ventas=e.data}).catch(function(t){console.log(t)})},limpiar:function(){this._id="",this.persona="",this.register_type="",this.register_serie="",this.register_number="",this.document_number="",this.tax=.13,this.total=0,this.detail=[],this.verNuevo=0,this.valida=0,this.validaMensaje=[],this.verDetalle=0},valdiar:function(){return this.valida=0,this.validaMensaje=[],this.persona||this.validaMensaje.push("Debe selecionar un cliente."),this.register_type||this.validaMensaje.push("Debe selecionar un tipo de registro."),this.register_serie||this.validaMensaje.push("Debe selecionar un tipo de registro."),this.register_number||this.validaMensaje.push("Debe selecionar un tipo de registro."),this.impuesto<0&&(console.log(this.impuesto),this.validaMensaje.push("El impuesto debe ser valido.")),this.detalles.length<=0&&this.validaMensaje.push("Ingrese al meno un artículo al detalle."),this.validaMensaje.length&&(this.valida=1),this.valida},mostrarNuevo:function(){this.verNuevo=1},ocultarNuevo:function(){this.verNuevo=0,this.limpiar()},guardar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};this.valdiar()||B.a.post("sell/add",{user:this.$store.state.user._id,people:this.persona,register_type:this.register_type,register_serie:this.register_serie,document_number:this.document_number,register_number:this.register_number,tax:this.impuesto,total:this.total,detail:this.detalles},a).then(function(e){t.close(),t.listar()}).catch(function(t){console.log(t)})},estadoCategoria:function(t,e){this.addModal=1,this.addName=e.register_number,this.add_id=e._id,1===t?(this.addAction=1,this.titoloModal="Activar Usuario",this.cuerpoModal="Va ha activar al usuario "+this.addName):2===t?(this.titoloModal="Desactivar Usuario",this.cuerpoModal="Va ha desactivar al usuario "+this.addName,this.addAction=2):3===t?(this.titoloModal="Eliminar Usuario",this.cuerpoModal="Va a eliminar al usuario "+this.addName,this.addAction=3):(this.titoloModal="Error",this.cuerpoModal="ups algo paso en la acción del usuario "+this.addName,this.addAction=0)},activar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("sell/activate",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},desactivar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("sell/deactivate",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},eliminar:function(){var t=this,e={Token:this.$store.state.token},a={headers:e};B.a.put("user/remove",{_id:this.add_id},a).then(function(e){t.addModal=0,t.addAction=0,t.addName="",t.add_id="",t.listar()}).catch(function(t){console.log(t)})},close:function(){this.limpiar(),this.dialog=!1},save:function(){this.editedIndex>-1?Object.assign(this.usuarios[this.editedIndex],this.editedItem):this.usuarios.push(this.editedItem),this.close()}}},Zt=Qt,Yt=(a("02d6"),Object(u["a"])(Zt,Ht,Kt,!1,null,null,null)),te=Yt.exports;m()(Yt,{VAutocomplete:Bt["a"],VBtn:p["a"],VCard:f["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:et["a"],VContainer:b["a"],VDataTable:at["a"],VDialog:st["a"],VDivider:it["a"],VFlex:x["a"],VIcon:y["a"],VLayout:C["a"],VSelect:bt["a"],VSpacer:N["a"],VTextField:ot["a"],VToolbar:D["a"],VToolbarTitle:S["a"]}),s["a"].use(O["a"]);var ee=new O["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:W,meta:{Admin:!0,Manager:!0,Seller:!0}},{path:"/login",name:"login",component:mt,meta:{libre:!0}},{path:"/categoria",name:"categoria",component:nt,meta:{Admin:!0,Manager:!0}},{path:"/articulo",name:"articulo",component:Vt,meta:{Admin:!0,Manager:!0}},{path:"/ingreso",name:"ingreso",component:Xt,meta:{Admin:!0,Manager:!0}},{path:"/proveedor",name:"proveedor",component:$t,meta:{Admin:!0,Manager:!0}},{path:"/cliente",name:"cliente",component:Et,meta:{Admin:!0,Seller:!0}},{path:"/venta",name:"venta",component:te,meta:{Admin:!0,Seller:!0}},{path:"/usuarios",name:"usuarios",component:xt,meta:{Admin:!0}}]});ee.beforeEach(function(t,e,a){t.matched.some(function(t){return t.meta.libre})?a():L.state.user&&"Admin"==L.state.user.rol?t.matched.some(function(t){return t.meta.Admin})&&a():L.state.user&&"Seller"==L.state.user.rol?t.matched.some(function(t){return t.meta.Seller})&&a():L.state.user&&"Manager"==L.state.user.rol?t.matched.some(function(t){return t.meta.Manager})&&a():a({name:"login"})});var ae=ee;s["a"].config.productionTip=!1,B.a.defaults.baseURL="http://localhost:4000/api/",new s["a"]({router:ae,store:L,render:function(t){return t(F)}}).$mount("#app")}});
//# sourceMappingURL=app.e3db3d3a.js.map